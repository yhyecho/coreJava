## JDBC (Java Database Connection)
> 为java开发者使用数据库提供了统一的编程接口

> 开发步骤: 加载驱动 -> 连接数据库 -> 发送sql语句 -> 获得结果集

#### Connection接口 (用于建立数据库连接)
> eg:
```java
/**
 * Created by Echo
 * （mysql驱动类加载、建立Connection、效率测试）
 */
public class test01 {

    public static void main(String[] args) {
        try {
            // 1. 加载驱动
            Class.forName("com.mysql.jdbc.Driver");
            long startTime = System.currentTimeMillis();
            // 2. 建立连接
            // 2.1 连接对象内部其实包含了Socket对象, 是一个远程的连接,比较耗时.
            // 2.2 开发过程中使用连接池来管理连接对象
            Connection conn = DriverManager.getConnection("jdbc:mysql://localhost:3306/jdbcTest?useUnicode=true&characterEncoding=UTF-8", "root", "root");

            long endTime = System.currentTimeMillis();
            System.out.println("建立连接,耗时" + (endTime - startTime) + "ms毫秒");
            System.out.println(conn);
        } catch (ClassNotFoundException e) {
            e.printStackTrace();
        } catch (SQLException e) {
            e.printStackTrace();
        }
    }
}
```

#### Statement接口 (用于执行静态sql语句并返回它所生成结果的对象)
> userinfo.sql (测试表userinfo)
```mysql
CREATE DATABASE IF NOT EXISTS jdbcTest DEFAULT CHARSET utf8 COLLATE utf8_general_ci;
USE jdbcTest;
CREATE TABLE userinfo (
  id INT PRIMARY KEY AUTO_INCREMENT,
  username VARCHAR(20),
  age      TINYINT UNSIGNED
) ENGINE = InnoDB
DEFAULT CHARSET utf8;
```
* Statement (sql未预编译,容易引起sql注入)
> eg:
```java
/**
 * Created by Echo
 * Statement接口用法（SQL注入）
 */
public class test02 {

    public static void main(String[] args) {
        try {
            Class.forName("com.mysql.jdbc.Driver");
            Connection conn = DriverManager.getConnection("jdbc:mysql://localhost:3306/jdbcTest?useUnicode=true&characterEncoding=UTF-8", "root", "root");

            Statement stmt = conn.createStatement();

            String sql = "INSERT INTO userinfo (username, age) VALUES ('老王', 18)";
            stmt.execute(sql);
            // 测试SQL注入
            // String id = "5 or 1=1";
            // sql = "DELETE FROM userinfo WHERE id=" + id;
            // stmt.execute(sql);
        } catch (ClassNotFoundException e) {
            e.printStackTrace();
        } catch (SQLException e) {
            e.printStackTrace();
        }
    }
}
```
* PreparedStatement (sql语句预编译, 防止sql注入)
> eg:
```java
/**
 * Created by Echo
 * PreparedStatement用法（占位符、参数处理）
 */
public class test03 {

    public static void main(String[] args) {
        try {
            Class.forName("com.mysql.jdbc.Driver");
            Connection conn = DriverManager.getConnection("jdbc:mysql://localhost:3306/jdbcTest?useUnicode=true&characterEncoding=UTF-8", "root", "root");

            String sql = "INSERT INTO userinfo (username, age) VALUES (?, ?)"; // ?占位符
            PreparedStatement ps = conn.prepareStatement(sql);
            ps.setString(1, "老李"); // 参数索引从1开始计算, 而不是0
            ps.setInt(2, 19);
            // ps.setObject(1, "老俞"); 可以使用setObject传参数, 不用考虑数据类型
            // ps.setObject(2, 66);

            System.out.println("插入一行记录");
            ps.execute();

        } catch (ClassNotFoundException e) {
            e.printStackTrace();
        } catch (SQLException e) {
            e.printStackTrace();
        }
    }
}
```
* CallableStatement
